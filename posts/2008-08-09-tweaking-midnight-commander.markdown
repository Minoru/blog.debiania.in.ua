---
title: Подстраиваем Midnight Commander под себя
published: 2008-08-09T18:51:00Z
categories: 
tags: linux
description: Учимся править mc.ext.
---

Небольшой пост с лирическим отступлением, где я поведаю вам, как переопределить ассоциации файлов в mc.

<i><b>Преамбула</b> (можно пропустить — тут я пустился в какие-то сомнительной ценности рассуждения)</i>

Мой путь компьютерщика начинался на папиной работе, куда мой отец приводил меня примерно раз в месяц. На всех компах стояла винда, а среди ярлыков на Панели Быстрого Запуска красовалась иконка Windows Commander'а (нынче популярен его потомок — Total Commander). Поэтому не вызывает удивления тот факт, что привычку и, соответственно, навыки работы с панельными менеджерами файлов я впитал вместе с <strike>молоком матери</strike> первым компьютерым опытом.

Т.к. мой процесс перехода на линукс был довольно растянут (пусть я и работал в мандриве всего один вечер в неделю, но зато ещё один вечер — правда, в Windows — был посвящён штудированию того, что было написано о Linux в Интернете), о Midnight Commander'е я знал ещё до прихода на Дебиан. И это была первая программа, которую я поставил, настроив VPN. Пусть MC и казался мне ограниченным (на фоне Total Commander'а, естественно; кроме того, после прочтения <a href="http://www.linuxcenter.ru/lib/books/posixbook/">Введения в POSIX'ивизм</a> <a href="http://www.blogger.com/profile/15976866046661118790">Федорчука</a> я понял, что это не ограниченность — это одно из проявлений разницы между Windows'ом и POSIX-системами). Меня немного бесило то, что mc плохо интегрирован в систему. В частности, вместе с KDE я получал кучу приложений для работы с чем угодно: просмотрщики графики и документов, куча игр и системных приложений, но mc упорно игнорировал все эти блага, заменяя их своим [не всегда удобным] вьювером. А если и не игнорировал — то выбирал не самый лучший из доступных вариантов. В конце концов, дело пришло к тому, что была сформулирована

<i><b>Проблема</b></i>

MC открывает pdf-файлы в каком-то убогом плохоконфигурируемом просмотрщике, хотя в наличии имеется значительно более удобный KPDF.

<i><b>Решение: первое приближение</b></i>

Всё тривиально: надо как-то обьяснить mc, что файлы pdf ассоциированы с KPDF.
К счастью, буквально пару дней назад я от нечего делать нажал в mc клавишу F1 и даже дочитал до раздела «Поддержка мыши». Там упоминался некий файл расширений. Теперь, прочитав соответствующий раздел справки, я получил

<i><b>Работающее решение</b></i>

Ассоциации типов файлов с приложениями производится в файле <code>/etc/mc/mc.ext</code> (если хотите назначить пользователю какие-то специфические ассоциации, то можете сделать это в <code>~/.mc/bindings</code>, учтите только, что при существовании этого файла общесистемные настройки игнорируются). Откроем его в любимом редакторе
```
sudo nano /etc/mc/mc.ext
```
Для того, чтобы проассоциировать файлы с расширением pdf, нам надо написать туда следующие строки:
```
regex/\.[Pp][Dd][Ff]$
Open=kpdf %s &
View=kpdf %s &
```
Не забудьте перед этим проверить, нет ли уже готовых ассоциаций с pdf'ами.

Ну вот и всё :) Надеюсь, эта статья поможет Вам глубже интегрировать mc в Вашу систему.

<h3 id='hakyll-convert-comments-title'>Comments (migrated from Blogger)</h3>
<div class='hakyll-convert-comment'>
<p class='hakyll-convert-comment-date'>On 2009-07-27T14:29:20.369+03:00, Анонимный wrote:</p>
<p class='hakyll-convert-comment-body'>
где такой файл нашел /etc/mc/mc.ext если его нет
</p>
</div>

<div class='hakyll-convert-comment'>
<p class='hakyll-convert-comment-date'>On 2009-07-28T14:59:43.453+03:00, Programmaster wrote:</p>
<p class='hakyll-convert-comment-body'>
<b>&gt; где такой файл нашел /etc/mc/mc.ext если его нет</b>

Вовсе не обязательно выражаться в таком претензионном тоне. Если файла нет — его можно создать.
</p>
</div>

<div class='hakyll-convert-comment'>
<p class='hakyll-convert-comment-date'>On 2012-02-10T22:49:17.160+02:00, Анонимный wrote:</p>
<p class='hakyll-convert-comment-body'>
Это в иксах, а как же для настоящей консоли? в гноме, например? как я ни бился, он упорно не желает открывать pdf
</p>
</div>

<div class='hakyll-convert-comment'>
<p class='hakyll-convert-comment-date'>On 2012-02-10T22:53:14.704+02:00, Анонимный wrote:</p>
<p class='hakyll-convert-comment-body'>
Для примера mplayer я запускаю так:
```
include/video
Open=(mplayer -vo fbdev2 -zoom -x 1440 -y 900 %f)
# >/dev/null 2>&1 &
#Open=(gtv %f >/dev/null 2>&1 &)
#Open=(xanim %f >/dev/null 2>&1 &)
```
, а как быть с pdf?
</p>
</div>

<div class='hakyll-convert-comment'>
<p class='hakyll-convert-comment-date'>On 2012-02-11T00:04:49.815+02:00, Minoru wrote:</p>
<p class='hakyll-convert-comment-body'>
Для настоящей консоли в гноме? :)

Сходу по «framebuffer pdf» нагуглились fbpdf и fbida.
</p>
</div>



